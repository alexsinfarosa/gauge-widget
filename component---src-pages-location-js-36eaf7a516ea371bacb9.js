(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{322:function(e,t,n){"use strict";n.r(t);var a=n(47),r=n.n(a),i=(n(110),n(78)),o=n.n(i),s=(n(191),n(60),n(0)),l=n.n(s),c=n(358),d=n(366),u=n(853),m=n(362),p=n(361),g=n(833),f=n(824),h=n(841),b=n(305),y=n(857),E=n(380),v=n(382),w=n(417),x=n(418),N=n(384),C=n(828),k=n.n(C),S=n(832),L=n.n(S),R=n(83),O=n(136),j={address:"",lat:null,lng:null,streetNumber:null,isStreetNumberRequired:!1};function I(e,t){switch(t.type){case"setAddress":return Object.assign({},e,{address:t.address});case"setLatLng":return Object.assign({},e,{lat:t.lat,lng:t.lng});case"setStreetNumber":return Object.assign({},e,{streetNumber:t.streetNumber});case"toggleIsStreetNumberRequired":return{address:"",lat:null,lng:null,streetNumber:null,isStreetNumberRequired:!e.isStreetNumberRequired};case"reset":return{address:"",lat:null,lng:null,streetNumber:null,isStreetNumberRequired:!1};default:throw new Error}}t.default=function(){var e=Object(c.a)(),t=l.a.useContext(O.b),n=t.loading,a=t.setLoading,i=t.globalDispatch,s=l.a.useReducer(I,j),S=s[0],q=s[1],_=l.a.useState(""),A=_[0],T=_[1],M=(P=o()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:T(t),n();case 2:case"end":return e.stop()}},e)})),function(e,t){return P.apply(this,arguments)});var P;return l.a.createElement(E.a,null,l.a.createElement(v.a,{title:"Location"}),l.a.createElement(N.a,null,l.a.createElement(w.a,{icon:"chevron-left",title:"Create Location - (step 1/3)"}),l.a.createElement(y.a,{my:2},l.a.createElement(y.a,{mb:4,align:"center"},l.a.createElement(b.a,{variant:"h6",gutterBottom:!0},"Enter Your Location")),l.a.createElement(y.a,{mb:2},l.a.createElement(g.a,{row:!0},l.a.createElement(f.a,{control:l.a.createElement(h.a,{checked:S.isStreetNumberRequired,color:"primary",onChange:function(){return q({type:"toggleIsStreetNumberRequired"})}}),label:"My street number follows the odd/even irrigation ordinance"}))),l.a.createElement(y.a,null,l.a.createElement(k.a,{value:S.address,onChange:function(e){q({type:"setAddress",address:e}),T("")},onSelect:function(e){q({type:"setAddress",address:e}),Object(C.geocodeByAddress)(e).then(function(e){var t,n=e[0].formatted_address;return S.isStreetNumberRequired&&(t=+n.split(" ")[0],isNaN(t)||q({type:"setStreetNumber",streetNumber:t})),Object(C.getLatLng)(e[0])}).then(function(e){var t=e.lat,n=e.lng;t>=37.2&&t<=47.6&&n>=-82.7&&n<=-66.1?(q({type:"setLatLng",lat:t,lng:n}),L()()):T("ZERO_RESULTS")}).catch(function(e){return console.error("Error",e)})},shouldFetchSuggestions:S.address.length>2,onError:M},function(t){var n=t.getInputProps,a=t.suggestions,r=t.getSuggestionItemProps,i=t.loading;return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{noValidate:!0,autoComplete:"off"},l.a.createElement(d.a,Object.assign({autoComplete:"off",id:"address",label:"Address",placeholder:"Type your address",fullWidth:!0,margin:"normal",variant:"outlined",color:"secondary",SelectProps:{native:!0},InputProps:{endAdornment:l.a.createElement(m.a,{position:"end"},l.a.createElement(p.a,{"aria-label":"delete typed address",onClick:function(){return q({type:"reset"})}},l.a.createElement("small",null,"✕")))}},n({className:"location-search-input"})))),l.a.createElement("div",null,i&&l.a.createElement(y.a,{align:"center"},l.a.createElement(b.a,{variant:"caption"},"Loading...")),!i&&S.address.length>0&&"ZERO_RESULTS"===A&&l.a.createElement(y.a,{align:"center"},l.a.createElement(b.a,{variant:"caption",color:"error"},"Address is not valid")),a.map(function(t){var n=t.active?"suggestion-item--active":"suggestion-item",a=t.active?{backgroundColor:e.palette.primary.main,borderRadius:4,color:"#fff",padding:16,cursor:"pointer"}:{backgroundColor:"#fff",padding:16,cursor:"pointer"};return l.a.createElement("div",r(t),l.a.createElement("div",r(t,{className:n,style:a}),l.a.createElement(b.a,{variant:"caption",color:"inherit"},t.description)),l.a.createElement(u.a,null))})))}))),l.a.createElement(y.a,{mx:-2},l.a.createElement(x.a,{to:"/irrigation/",variant:"contained",color:"primary",disabled:!(!n&&S.lat),onClick:o()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,Object(R.c)(S.lat,S.lng);case 3:t=e.sent,i(Object.assign({type:"setLocation"},S)),i({type:"setForecast",forecast:t}),a(!1);case 7:case"end":return e.stop()}},e)}))},"Continue →"))))}},380:function(e,t,n){"use strict";var a=n(381),r=n(0),i=n.n(r),o=n(5),s=n.n(o),l=n(135),c=n(569),d=(n(396),function(e){var t=e.children;return i.a.createElement(l.b,{query:"755544856",render:function(e){return i.a.createElement(c.a,{maxWidth:"sm",style:{padding:0}},t)},data:a})});d.propTypes={children:s.a.node.isRequired},t.a=d},381:function(e){e.exports={data:{site:{siteMetadata:{title:"Lawn Irrigation Tool"}}}}},382:function(e,t,n){"use strict";var a=n(383),r=n(0),i=n.n(r),o=n(5),s=n.n(o),l=n(137),c=n.n(l);function d(e){var t=e.description,n=e.lang,r=e.meta,o=e.keywords,s=e.title,l=a.data.site,d=t||l.siteMetadata.description;return i.a.createElement(c.a,{htmlAttributes:{lang:n},title:s,titleTemplate:"%s | "+l.siteMetadata.title,meta:[{name:"description",content:d},{property:"og:title",content:s},{property:"og:description",content:d},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:l.siteMetadata.author},{name:"twitter:title",content:s},{name:"twitter:description",content:d}].concat(o.length>0?{name:"keywords",content:o.join(", ")}:[]).concat(r)})}d.defaultProps={lang:"en",meta:[],keywords:[],description:""},d.propTypes={description:s.a.string,lang:s.a.string,meta:s.a.arrayOf(s.a.object),keywords:s.a.arrayOf(s.a.string),title:s.a.string.isRequired},t.a=d},383:function(e){e.exports={data:{site:{siteMetadata:{title:"Lawn Irrigation Tool",description:"Lawn irrigation tool",author:"Alex Sinfarosa - @alexsinfarosa"}}}}},384:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o});var a=n(375),r=a.a.div.withConfig({displayName:"sharedComponents__GridContainer",componentId:"sc-1xmki40-0"})(["display:grid;height:100vh;grid-template-rows:60px auto 80px;padding-left:16px;padding-right:16px;"]),i=a.a.div.withConfig({displayName:"sharedComponents__MainContainer",componentId:"sc-1xmki40-1"})(["display:flex;flex-direction:column;height:calc(100vh - 80px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{width:0;height:0;}padding-top:16px;"]),o=a.a.div.withConfig({displayName:"sharedComponents__InfoContainer",componentId:"sc-1xmki40-2"})(["display:flex;flex-direction:column;height:calc(100vh - 160px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{width:0;height:0;}padding-top:16px;"])},417:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(305),o=n(857),s=n(374);t.a=function(e){var t=e.icon,n=e.title,a=e.right;return r.a.createElement(o.a,{display:"flex",justifyContent:"space-between",alignItems:"center",height:"60px",mb:1},r.a.createElement(o.a,{component:"span"},r.a.createElement(s.a,{icon:t,size:"lg",onClick:function(){return window.history.back()}})),r.a.createElement(o.a,{component:"span"},r.a.createElement(i.a,{variant:"h6"},n)),r.a.createElement(o.a,{component:"span"},a))}},418:function(e,t,n){"use strict";n.d(t,"a",function(){return c});n(60);var a=n(0),r=n.n(a),i=n(360),o=n(64),s=n(375),l=Object(s.a)(i.a).withConfig({displayName:"buttonLink__StyledButton",componentId:"sc-1eviyag-0"})(["padding:24px 32px;font-size:1.1rem;height:80px;width:100%;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-left-radius:0px;border-bottom-right-radius:0px;"]);function c(e){return r.a.createElement(l,Object.assign({component:o.Link},e))}}}]);
//# sourceMappingURL=component---src-pages-location-js-36eaf7a516ea371bacb9.js.map